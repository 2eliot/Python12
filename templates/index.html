<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inefablestore - Tu tienda de juegos favorita</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="container">
        <!-- Header con logo y selector de moneda -->
        <header>
            <div class="header-left">
                <img src="https://via.placeholder.com/200x60/007bff/ffffff?text=INEFABLESTORE" alt="Logo Inefablestore" class="logo" id="logo-img">
                
                <!-- Categor√≠as centradas para desktop -->
                <nav class="desktop-categories">
                    <button class="desktop-category-btn active" onclick="filtrarProductos('todos', this)">Todos</button>
                    <button class="desktop-category-btn" onclick="filtrarProductos('juegos', this)">Juegos</button>
                    <button class="desktop-category-btn" onclick="filtrarProductos('gift-cards', this)">Gift Cards</button>
                </nav>
            </div>

            <div class="header-right">
                <!-- Bot√≥n hamburguesa para categor√≠as (solo m√≥vil) -->
                <button class="mobile-category-hamburger" onclick="toggleMobileCategoryMenu()">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                
                <!-- Navegaci√≥n para desktop -->
                <nav class="desktop-nav">
                    <button class="desktop-nav-btn active" onclick="mostrarTab('catalogo')" title="Cat√°logo">
                        <span class="nav-icon"></span>
                    </button>
                    <button class="desktop-nav-btn" onclick="mostrarTab('carrito')" title="Carrito">
                        <span class="nav-icon"></span>
                        <span class="cart-badge-desktop" id="cart-count-desktop">0</span>
                    </button>
                    <button class="desktop-nav-btn" onclick="mostrarTab('login')" title="Mi Cuenta">
                        <span class="nav-icon"></span>
                    </button>
                </nav>
                
                <select id="selector-moneda" class="currency-selector">
                    <option value="VES">üí∞ VES</option>
                    <option value="USD">üíµ USD</option>
                </select>
            </div>
        </header>

        <!-- Men√∫ de categor√≠as m√≥vil -->
        <div class="mobile-category-menu" id="mobile-category-menu">
            <div class="mobile-category-menu-content">
                <div class="mobile-category-header">
                    <h3>Categor√≠as</h3>
                    <button class="close-mobile-menu" onclick="closeMobileCategoryMenu()">‚úï</button>
                </div>
                <div class="mobile-category-list">
                    <div class="mobile-category-item active" onclick="filtrarProductos('todos', this); closeMobileCategoryMenu();">
                        <svg class="category-icon" viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                            <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
                        </svg>
                        <span>Todos</span>
                    </div>
                    <div class="mobile-category-item" onclick="filtrarProductos('juegos', this); closeMobileCategoryMenu();">
                        <svg class="category-icon" viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                            <path d="M21,6H3A1,1 0 0,0 2,7V17A1,1 0 0,0 3,18H21A1,1 0 0,0 22,17V7A1,1 0 0,0 21,6M20,16H4V8H20V16M6,15A1,1 0 0,0 7,14A1,1 0 0,0 6,13A1,1 0 0,0 5,14A1,1 0 0,0 6,15M7,12A1,1 0 0,0 8,11A1,1 0 0,0 7,10A1,1 0 0,0 6,11A1,1 0 0,0 7,12M17,12A1,1 0 0,0 18,11A1,1 0 0,0 17,10A1,1 0 0,0 16,11A1,1 0 0,0 17,12M18,15A1,1 0 0,0 19,14A1,1 0 0,0 18,13A1,1 0 0,0 17,14A1,1 0 0,0 18,15Z"/>
                        </svg>
                        <span>Juegos</span>
                    </div>
                    <div class="mobile-category-item" onclick="filtrarProductos('gift-cards', this); closeMobileCategoryMenu();">
                        <svg class="category-icon" viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                            <path d="M9.62,12L12,15L14.38,12L12,9L9.62,12M12,3A9,9 0 0,1 21,12A9,9 0 0,1 12,21A9,9 0 0,1 3,12A9,9 0 0,1 12,3M12,5A7,7 0 0,0 5,12A7,7 0 0,0 12,19A7,7 0 0,0 19,12A7,7 0 0,0 12,5Z"/>
                        </svg>
                        <span>Gift Cards</span>
                    </div>
                </div>
            </div>
        </div>



        <!-- Contenido principal -->
        <div class="content">
            <!-- Secci√≥n Cat√°logo -->
            <section id="catalogo" class="tab-section active">
                <!-- Carrusel de im√°genes -->
                <div class="carousel-container" style="margin-bottom: 30px;">
                    <div class="carousel">
                        <div class="carousel-slide active">
                            <img src="https://via.placeholder.com/800x300/007bff/ffffff?text=üéÆ+Ofertas+Especiales+Free+Fire" alt="Oferta 1">
                        </div>
                        <div class="carousel-slide">
                            <img src="https://via.placeholder.com/800x300/28a745/ffffff?text=üî•+Mejores+Precios+PUBG" alt="Oferta 2">
                        </div>
                        <div class="carousel-slide">
                            <img src="https://via.placeholder.com/800x300/dc3545/ffffff?text=‚ö°+Entrega+Inmediata+COD" alt="Oferta 3">
                        </div>
                    </div>
                    <div class="carousel-dots">
                        <span class="dot active" onclick="currentSlide(1)"></span>
                        <span class="dot" onclick="currentSlide(2)"></span>
                        <span class="dot" onclick="currentSlide(3)"></span>
                    </div>
                </div>

                

                <div id="productos-grid" class="product-grid loading">
                    Cargando productos...
                </div>
            </section>

            <!-- Secci√≥n Detalles del producto -->
            <section id="detalles" class="tab-section">
                <button class="btn btn-primary" onclick="mostrarTab('catalogo')">‚Üê Volver al cat√°logo</button>

                <div id="producto-detalle">
                    <!-- Detalles y paquetes del producto -->
                </div>
            </section>

            <!-- Secci√≥n Carrito -->
            <section id="carrito" class="tab-section">
                <div class="cart-section">
                    <h2>üõí Tu Carrito de Compras</h2>
                    <div id="carrito-items">
                        <!-- Productos agregados por el usuario -->
                    </div>
                    <div class="cart-summary">
                        <div class="cart-total" id="carrito-total">Total: $0.00</div>
                        <button class="checkout-btn" onclick="procederAlPago()">
                            üí≥ Proceder al Pago
                        </button>
                    </div>
                </div>
            </section>

            <!-- Secci√≥n Pago -->
            <section id="pago" class="tab-section">
                <div class="payment-section">
                    <h2>üí≥ M√©todo de Pago</h2>

                    <!-- Total a pagar -->
                    <div class="payment-total-section">
                        <div id="total-pago" class="payment-total">Total a pagar: $0.00</div>
                    </div>



                    <form id="form-pago" class="payment-form">
                        <div class="form-group">
                            <label>üìß Correo Electr√≥nico</label>
                            <input type="email" id="pago-email" class="form-control" placeholder="tu@email.com" required>
                        </div>
                        <div class="form-group">
                            <label>üí∞ M√©todo de Pago</label>
                            <div class="payment-methods">
                                <button type="button" class="payment-method-btn" id="btn-pago-movil" onclick="seleccionarMetodoPago('Pago M√≥vil')">
                                    <span class="payment-text">Pago M√≥vil</span>
                                </button>
                                <button type="button" class="payment-method-btn" id="btn-binance" onclick="seleccionarMetodoPago('Binance')">
                                    <span class="payment-text">Binance</span>
                                </button>
                            </div>
                            <input type="hidden" id="metodo-pago" name="metodo-pago" required>
                        </div>
                        <div id="info-pago" class="payment-info">
                            <!-- Informaci√≥n del m√©todo de pago -->
                        </div>
                        <div class="form-group">
                            <label>üî¢ Referencia de Pago</label>
                            <input type="text" id="referencia-pago" class="form-control" placeholder="Ingresa tu referencia de pago" required>
                        </div>

                        <!-- T√©rminos y condiciones -->
                        <div class="form-group terms-group">
                            <label class="terms-checkbox-container">
                                <input type="checkbox" id="terminos-checkbox" required>
                                <span class="checkmark"></span>
                                <span class="terms-text">
                                    Acepto los <a href="#" onclick="mostrarTerminos()" class="terms-link">t√©rminos y condiciones</a> y la pol√≠tica de privacidad
                                </span>
                            </label>
                        </div>

                        <button type="submit" class="submit-payment-btn" id="submit-payment-btn" disabled>
                            ‚úÖ Confirmar Pago
                        </button>
                        <div id="mensaje-pago" class="payment-message" style="display: none;">
                            <!-- Aqu√≠ aparecer√° el mensaje de pago -->
                        </div>
                    </form>
                </div>
            </section>

            <!-- Secci√≥n Login/Registro integrada -->
            <section id="login" class="tab-section">
                <div class="auth-section">
                    <h2 style="color: #ffffff; text-align: center; font-size: 28px; margin-bottom: 30px;">üîê Mi Cuenta</h2>

                    <div class="auth-tabs">
                        <div class="auth-tab active" onclick="mostrarAuthTab('login-form', this)">Iniciar Sesi√≥n</div>
                        <div class="auth-tab" onclick="mostrarAuthTab('registro-form', this)">Registrarse</div>
                    </div>

                    <div id="login-form" class="auth-content active">
                        <form id="form-login">
                            <div class="form-group">
                                <label style="color: #ffffff; font-weight: 600;">Correo Electr√≥nico</label>
                                <input type="email" id="login-email" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label style="color: #ffffff; font-weight: 600;">Contrase√±a</label>
                                <input type="password" id="login-password" class="form-control" required>
                            </div>
                            <button type="submit" class="account-btn account-btn-primary" style="width: 100%;">
                                üîë Entrar
                            </button>
                        </form>
                    </div>

                    <!-- Panel de usuario logueado -->
                    <div id="user-panel" class="auth-content" style="display: none;">
                        <div class="user-info" style="text-align: center; margin-bottom: 20px;">
                            <h3 style="color: #ffffff; margin-bottom: 10px;">üë§ Bienvenido</h3>
                            <p id="user-name" style="color: #ffffff; font-size: 18px; font-weight: 600;"></p>
                            <p id="user-email" style="color: #cccccc; font-size: 14px;"></p>
                        </div>

                        <!-- Bot√≥n Panel Admin (solo para administradores) -->
                        <div id="admin-panel-btn" style="display: none; margin-bottom: 15px;">
                            <button onclick="window.location.href='/admin'" class="account-btn" style="width: 100%; background: linear-gradient(135deg, #dc3545, #c82333); color: white;">
                                üõ°Ô∏è Panel de Administraci√≥n
                            </button>
                        </div>

                        <button onclick="mostrarTab('catalogo')" class="account-btn account-btn-primary" style="width: 100%; margin-bottom: 10px;">
                            üõí Ir al Cat√°logo
                        </button>

                        <button onclick="cerrarSesion()" class="account-btn" style="width: 100%; background: #6c757d;">
                            üö™ Cerrar Sesi√≥n
                        </button>
                    </div>

                    <div id="registro-form" class="auth-content">
                        <form id="form-registro">
                            <div class="form-group">
                                <label style="color: #ffffff; font-weight: 600;">Nombre Completo</label>
                                <input type="text" id="registro-nombre" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label style="color: #ffffff; font-weight: 600;">Correo Electr√≥nico</label>
                                <input type="email" id="registro-email" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label style="color: #ffffff; font-weight: 600;">Contrase√±a</label>
                                <input type="password" id="registro-password" class="form-control" required>
                            </div>
                            <button type="submit" class="account-btn account-btn-primary" style="width: 100%; background: linear-gradient(135deg, #28a745, #20c997);">
                                ‚ú® Registrarse
                            </button>
                        </form>
                    </div>
                </div>
            </section>

            <!-- Secci√≥n Registro (mantener para compatibilidad) -->
            <section id="registro" class="tab-section" style="display: none;">
            </section>
        </div>
    </div>

    <!-- Footer de navegaci√≥n fijo -->
    <footer class="footer-nav">
        <button class="nav-btn active" onclick="mostrarTab('catalogo', this)">
            <span class="nav-icon"></span>
        </button>
        <button class="nav-btn" onclick="mostrarTab('carrito', this)">
            <span class="nav-icon"></span>
            <span class="cart-badge" id="cart-count">0</span>
        </button>
        <button class="nav-btn" onclick="mostrarTab('login', this)">
            <span class="nav-icon"></span>
        </button>
    </footer>

    <script src="/static/app.js"></script>

    <!-- Footer con copyright -->
    <div class="copyright-footer">
        ¬© Copyright 2024 | Inefablestore
    </div>
</body>
</html>